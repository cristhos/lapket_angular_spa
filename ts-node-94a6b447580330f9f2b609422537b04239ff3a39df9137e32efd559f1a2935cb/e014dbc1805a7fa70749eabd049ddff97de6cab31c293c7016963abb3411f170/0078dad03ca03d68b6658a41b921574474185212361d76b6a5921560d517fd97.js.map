{"version":3,"file":"/home/lithos/Data/Lab/codash/angularSpa/src/app/product/list/product-list.component.ts","sources":["/home/lithos/Data/Lab/codash/angularSpa/src/app/product/list/product-list.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAAgE;AAGhE,8DAA4D;AAC5D,+BAAiC;AAUjC,IAAa,oBAAoB;IAK/B,8BAAoB,cAA+B;QAA/B,mBAAc,GAAd,cAAc,CAAiB;QAJnD,aAAQ,GAAS,EAAE,CAAC;QA+CpB,iBAAY,GAAG,IAAI,mBAAY,EAAU,CAAC;QAC1C,kBAAa,GAAG,IAAI,mBAAY,EAAU,CAAC;QAC3C,WAAM,GAAG,EAAE,CAAA;IA7C2C,CAAC;IAEvD,uCAAQ,GAAR;QACE,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,cAAc,EAAE,CAAC;IACxB,CAAC;IAED,6CAAc,GAAd;QAAA,iBA2BC;QA1BC,EAAE,CAAA,CAAC,YAAY,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC,CAAA,CAAC;YACzC,EAAE,CAAA,CAAC,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,KAAM,CAAC,CAAA,CAAC;gBAC3B,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CAClD,UAAA,IAAI;oBACF,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACxB,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,IAAE,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;wBAChC,EAAE,CAAA,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA,CAAC;4BAC1B,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC5C,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;wBAC5B,CAAC;oBACH,CAAC;oBACD,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;gBAC/B,CAAC,EACD,UAAA,KAAK;oBACH,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;oBAC7B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACrB,CAAC,EACD;oBACE,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;oBAC7B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;gBACxB,CAAC,CACJ,CAAC;YACJ,CAAC;QACH,CAAC;QAAA,IAAI,CAAA,CAAC;YACJ,iEAAiE;QACnE,CAAC;IACH,CAAC;IACD,2CAAY,GAAZ;QACI,IAAI,CAAC,cAAc,EAAE,CAAC;IAC3B,CAAC;IAMA,yCAAU,GAAV;QACE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACvC,CAAC;IACH,2BAAC;AAAD,CAAC,AAtDD,IAsDC;AAtDY,oBAAoB;IARhC,gBAAS,CAAC;QACT,QAAQ,EAAE,aAAa;QACvB,WAAW,EAAE,+BAA+B;QAC5C,MAAM,EAAG,CAAC,UAEX,CAAC;KACD,CAAC;qCAOqC,gCAAc;GALxC,oBAAoB,CAsDhC;AAtDY,oDAAoB","sourcesContent":["import { Component, OnInit, EventEmitter } from '@angular/core';\nimport { Routes } from '@angular/router';\n\nimport { ProductService } from '../service/product.service';\nimport * as moment from 'moment';\n\n@Component({\n  selector: 'all-product',\n  templateUrl: './product-list.component.html',\n  styles : [`\n    \n`]\n})\n\nexport class ProductListComponent implements OnInit{\n  products : any = [];\n  pages: number;\n  page : number;\n  product_loading : boolean;\n  constructor(private productService : ProductService) {}\n\n  ngOnInit() {\n    moment.locale('fr-fr');\n    this.page = 1;\n    this.pages = 2;\n    this.product_loading = true;\n    this.getFilProducts();\n  }\n\n  getFilProducts(){\n    if(localStorage.getItem(\"authent\") == \"O\"){\n      if(this.page <= this.pages ){\n        this.productService.getProductFil(this.page).subscribe(\n            data => {\n              this.pages = data.pages;\n              for(let i=0; i<=data.limit; i++) {\n                if(data._embedded.items[i]){\n                  this.products.push(data._embedded.items[i]);\n                  this.page = data.page + 1;\n                }\n              }\n              this.product_loading = false;\n            },\n            error =>{\n              this.product_loading = false;\n              console.log(error);\n            },\n            () =>{\n              this.product_loading = false;\n              console.log(\"finish\");\n            } \n        );\n      }\n    }else{\n      //rediriger sur la page de connexion et expliquer ce qui se passe\n    }\n  }\n  onScrollDown () {\n      this.getFilProducts();\n\t}\n\n\n  modalActions = new EventEmitter<string>();\n  globalActions = new EventEmitter<string>();\n  params = []\n  closeModel() {\n    this.modalActions.emit(\"closeModal\");\n  }\n}\n"]}