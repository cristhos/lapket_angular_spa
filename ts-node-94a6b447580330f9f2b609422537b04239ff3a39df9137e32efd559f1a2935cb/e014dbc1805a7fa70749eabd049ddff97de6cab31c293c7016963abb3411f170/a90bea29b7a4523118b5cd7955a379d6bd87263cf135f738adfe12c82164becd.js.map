{"version":3,"file":"/home/lithos/Data/Lab/codash/angularSpa/src/app/category/detail/category-detail.component.ts","sources":["/home/lithos/Data/Lab/codash/angularSpa/src/app/category/detail/category-detail.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,uCAAqC;AACrC,sCAA6D;AAC7D,0CAAiD;AAEjD,gEAA8D;AAC9D,qEAAiE;AAQjE,IAAa,uBAAuB;IAOlC,iCACU,eAAiC,EACjC,KAAqB,EACrB,cAA+B;QAF/B,oBAAe,GAAf,eAAe,CAAkB;QACjC,UAAK,GAAL,KAAK,CAAgB;QACrB,mBAAc,GAAd,cAAc,CAAiB;QAPzC,aAAQ,GAAQ,EAAE,CAAC;IAQhB,CAAC;IAEJ,0CAAQ,GAAR;QACE,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IACD,6CAAW,GAAX;QACE,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;IACzB,CAAC;IAED,mDAAiB,GAAjB;QAAA,iBAqBC;QAnBC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,UAAA,MAAM;YAC3C,IAAI,EAAE,GAAG,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YACvB,KAAI,CAAC,eAAe,CAAC,iBAAiB,CAAC,EAAE,CAAC,CAAC,SAAS,CAChD,UAAA,IAAI;gBACE,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC/B,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;gBACrB,KAAI,CAAC,mBAAmB,CAAC,KAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAChD,CAAC,EACD,UAAA,KAAK;gBACH,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC9B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACrB,CAAC,EACD;gBACE,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;gBAC9B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACxB,CAAC,CACJ,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,qDAAmB,GAAnB,UAAoB,WAAgB;QAApC,iBAiBC;QAfG,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,mBAAmB,CAAC,WAAW,CAAC,CAAC,SAAS,CAC1D,UAAA,IAAI;YACF,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAA;QACtC,CAAC,EACD,UAAA,KAAK;YACH,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;QACpB,CAAC,EACD;YACE,KAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAA;QACvB,CAAC,CACJ,CAAC;IACN,CAAC;IACH,8BAAC;AAAD,CAAC,AA7DD,IA6DC;AA7DY,uBAAuB;IANnC,gBAAS,CAAC;QACT,QAAQ,EAAE,iBAAiB;QAC3B,WAAW,EAAE,kCAAkC;QAC/C,SAAS,EAAC,CAAC,iCAAiC,CAAC;KAC9C,CAAC;qCAU4B,kCAAe;QAC1B,uBAAc;QACJ,kCAAc;GAV9B,uBAAuB,CA6DnC;AA7DY,0DAAuB","sourcesContent":["import 'rxjs/add/operator/switchMap';\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { CategoryService } from '../service/category.service';\nimport { ProductService } from '../../product/product.component';\n\n@Component({\n  selector: 'category-detail',\n  templateUrl: './category-detail.component.html',\n  styleUrls:['./category-detail.component.css'],\n})\n\nexport class CategoryDetailComponent implements OnInit, OnDestroy {\n  category ;\n  albums : Object;\n  products: any = [];\n  products_loading : boolean;\n  category_loading : boolean;\n  sub : any;\n  constructor(\n    private categoryService : CategoryService,\n    private route: ActivatedRoute,\n    private productService : ProductService\n  ) {}\n\n  ngOnInit() {\n    this.getCategoryDetail();\n  }\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  getCategoryDetail()\n  {\n    this.category_loading = true;\n    this.sub = this.route.params.subscribe(params => {\n      let id = +params['id'];\n      this.categoryService.getCategoryDetail(id).subscribe(\n          data =>{\n                this.category_loading = false;\n               this.category = data;\n               this.getProductsCategory(this.category.id);\n          } ,\n          error =>{\n            this.category_loading = false;\n            console.log(error);\n          }, \n          () =>{\n            this.category_loading = false;\n            console.log(\"finish\");\n          } \n      );\n    });\n  }\n\n  getProductsCategory(category_id: any)\n  {\n      this.products_loading = true;\n      this.productService.getProductsCategory(category_id).subscribe(\n          data =>{\n            this.products_loading = false;\n            this.products = data._embedded.items\n          },\n          error =>{\n            this.products_loading = false;\n            console.log(error)\n          },\n          () =>{\n            this.products_loading = false;\n            console.log(\"finish\")\n          } \n      );\n  }\n}\n"]}