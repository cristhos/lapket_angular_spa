{"version":3,"file":"/home/lithos/Data/Lab/codash/angularSpa/src/app/category/item/category-item.component.ts","sources":["/home/lithos/Data/Lab/codash/angularSpa/src/app/category/item/category-item.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAAiD;AACjD,gEAA8D;AAC9D,0CAAyC;AAQzC,IAAa,qBAAqB;IAIhC,+BAAoB,eAAiC,EACjC,MAAc;QADd,oBAAe,GAAf,eAAe,CAAkB;QACjC,WAAM,GAAN,MAAM,CAAQ;IAAG,CAAC;IAEtC,kDAAkB,GAAlB,UAAmB,WAAgB;QAAnC,iBAkBC;QAhBC,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,CAAA,CAAC;YAC7B,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,eAAe,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC,SAAS,CAC5D,UAAA,IAAI;gBACF,mBAAmB;YACrB,CAAC,EACD,UAAA,KAAK;gBACH,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;gBACnB,KAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,KAAK,CAAC;YAClC,CAAC,EACD,cAAM,OAAA,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,EAArB,CAAqB,CAC5B,CAAC;QACJ,CAAC;QAAA,IAAI,CAAA,CAAC;YACH,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC9B,CAAC;IAEH,CAAC;IAED,oDAAoB,GAApB,UAAqB,WAAgB;QAArC,iBAiBC;QAhBC,EAAE,CAAA,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,IAAI,CAAC,CAAA,CAAC;YAC7B,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,KAAK,CAAC;YAChC,IAAI,CAAC,eAAe,CAAC,oBAAoB,CAAC,WAAW,CAAC,CAAC,SAAS,CAC9D,UAAA,IAAI;gBACF,kBAAkB;YACpB,CAAC,EACD,UAAA,KAAK;gBACF,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAA;gBACnB,KAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;YACjC,CAAC,EACD,cAAM,OAAA,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,EAArB,CAAqB,CAC5B,CAAC;QACJ,CAAC;QAAA,IAAI,CAAA,CAAC;YACH,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC9B,CAAC;IAEH,CAAC;IAED,2CAAW,GAAX;QACE,EAAE,CAAA,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC,CAAA,CAAC;YACvC,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QAAA,IAAI,CAAA,CAAC;YACJ,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IAEF,mDAAmB,GAAnB;QACE,EAAE,CAAA,CAAC,MAAM,CAAC,OAAO,CAAC,0DAA0D,CAAC,CAAC,CAC7E,CAAC;YACC,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;QACtC,CAAC;IACJ,CAAC;IAEF,4BAAC;AAAD,CAAC,AA7DD,IA6DC;AA3DC;IADC,YAAK,EAAE;;uDACO;AAFJ,qBAAqB;IANjC,gBAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,WAAW,EAAE,gCAAgC;QAC7C,SAAS,EAAG,CAAC,+BAA+B,CAAC;KAC9C,CAAC;qCAMsC,kCAAe;QACzB,eAAM;GALvB,qBAAqB,CA6DjC;AA7DY,sDAAqB","sourcesContent":["import { Component, Input } from '@angular/core';\nimport { CategoryService } from '../service/category.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'category-item',\n  templateUrl: './category-item.component.html',\n  styleUrls : ['./category-item.component.css']\n})\n\nexport class CategoryItemComponent {\n  @Input()\n  category : any;\n\n  constructor(private categoryService : CategoryService,\n              private router: Router) {}\n\n  postCategoryFollow(category_id: any){\n    \n    if(this.buttonGuard() == true){\n      this.category.is_follow = true;\n      this.categoryService.postCategoryFollow(category_id).subscribe(\n        data => {\n          //illusion optiques\n        },\n        error =>{\n          console.log(error);\n          this.category.is_follow = false;\n        },\n        () => console.log(\"finish\")\n      );\n    }else{\n       this.buttonGuardRedirect();\n    }\n\n  }\n  \n  removeCategoryFollow(category_id: any){\n    if(this.buttonGuard() == true){\n      this.category.is_follow = false;\n      this.categoryService.deleteCategoryFollow(category_id).subscribe(\n        data => {\n          //illusion optique\n        },\n        error =>{\n           console.log(error)\n          this.category.is_follow = true;\n        },\n        () => console.log(\"finish\")\n      );\n    }else{\n       this.buttonGuardRedirect();\n    }\n    \n  }\n\n  buttonGuard(){\n    if(localStorage.getItem(\"access_token\")){\n      return true;\n    }else{\n      return false;\n    }\n  }\n \n buttonGuardRedirect(){\n   if(window.confirm('Voulez-vous vous connecter pour effectuer cette action ?'))\n    {\n      this.router.navigateByUrl('/login');\n    }\n }\n\n}\n"]}