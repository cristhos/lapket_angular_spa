{"version":3,"file":"/home/lithos/Data/Lab/codash/angularSpa/src/app/utils/default-request-options.service.ts","sources":["/home/lithos/Data/Lab/codash/angularSpa/src/app/utils/default-request-options.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,sCAA2C;AAC3C,sCAAmE;AAGnE,IAAa,qBAAqB;IAAS,yCAAkB;IAE3D;QAAA,YACE,iBAAO,SAKR;QAJC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QACrD,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CAAC;QAC/C,KAAI,CAAC,QAAQ,EAAE,CAAC;;IAElB,CAAC;IAED,wCAAQ,GAAR;QACE,EAAE,CAAA,CAAC,YAAY,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAA,CAAC;YACpC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;QAC/B,CAAC;QAAA,IAAI,CAAA,CAAC;YACJ,EAAE,CAAA,CAAC,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,CAAC;gBAAC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,YAAU,YAAY,CAAC,OAAO,CAAC,cAAc,CAAG,CAAC,CAAC;QAC/H,CAAC;IAEH,CAAC;IAEH,4BAAC;AAAD,CAAC,AAnBD,CAA2C,yBAAkB,GAmB5D;AAnBY,qBAAqB;IADjC,iBAAU,EAAE;;GACA,qBAAqB,CAmBjC;AAnBY,sDAAqB;AAqBrB,QAAA,sBAAsB,GAAG,EAAE,OAAO,EAAE,qBAAc,EAAE,QAAQ,EAAE,qBAAqB,EAAE,CAAC","sourcesContent":["import { Injectable } from '@angular/core';\nimport { BaseRequestOptions, RequestOptions } from '@angular/http';\n\n@Injectable()\nexport class DefaultRequestOptions extends BaseRequestOptions {\n\n  constructor() {\n    super();\n    this.headers.set('Content-Type', 'application/json');\n    this.headers.set('Accept', 'application/json'); \n    this.addToken();\n    \n  }\n\n  addToken(){\n    if(localStorage.getItem(\"new_token\")){\n      console.log('refresh token');\n    }else{\n      if(localStorage.getItem(\"access_token\")) this.headers.set('Authorization', `Bearer ${localStorage.getItem('access_token')}`);\n    }\n       \n  }\n\n}\n\nexport const requestOptionsProvider = { provide: RequestOptions, useClass: DefaultRequestOptions };\n"]}