{"version":3,"file":"/home/lithos/Data/Lab/codash/angularSpa/src/app/search/detail/search-detail.component.ts","sources":["/home/lithos/Data/Lab/codash/angularSpa/src/app/search/detail/search-detail.component.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,sCAA6D;AAC7D,0CAAiD;AAEjD,qEAAiE;AAUjE,IAAa,qBAAqB;IAQhC,+BAAqB,KAAqB,EAAS,cAA+B;QAA7D,UAAK,GAAL,KAAK,CAAgB;QAAS,mBAAc,GAAd,cAAc,CAAiB;QANlF,aAAQ,GAAG,EAAE,CAAC;IAMuE,CAAC;IAEtF,wCAAQ,GAAR;QACE,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;QACf,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,2CAAW,GAAX;QACE,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC;IACzB,CAAC;IAED,+CAAe,GAAf;QAAA,iBAsBC;QApBC,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,UAAA,MAAM;YAC3C,KAAI,CAAC,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC,CAAC;YAC3B,IAAI,IAAI,GAAC,CAAC,CAAC;YACX,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC;YAClB,EAAE,CAAA,CAAC,KAAI,CAAC,IAAI,IAAI,KAAI,CAAC,KAAM,CAAC,CAAA,CAAC;gBAC7B,KAAI,CAAC,cAAc,CAAC,MAAM,CAAC,KAAI,CAAC,IAAI,EAAC,KAAI,CAAC,IAAI,CAAC,CAAC,SAAS,CACrD,UAAA,IAAI;oBACF,KAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;oBACxB,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,IAAE,IAAI,CAAC,KAAK,EAAE,CAAC,EAAE,EAAE,CAAC;wBAChC,EAAE,CAAA,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAA,CAAC;4BAC1B,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;4BAC5C,KAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;wBAC5B,CAAC;oBACH,CAAC;gBACH,CAAC,EACD,UAAA,KAAK,IAAI,OAAA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,EAC3B,cAAM,OAAA,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,EAArB,CAAqB,CAC9B,CAAC;YACJ,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,4CAAY,GAAZ;QACI,IAAI,CAAC,eAAe,EAAE,CAAC;IAC5B,CAAC;IAEF,4BAAC;AAAD,CAAC,AAjDD,IAiDC;AAjDY,qBAAqB;IARjC,gBAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,WAAW,EAAE,gCAAgC;QAC7C,MAAM,EAAE,CAAC,YAER,CAAC;KACH,CAAC;qCAU4B,uBAAc,EAA0B,kCAAc;GARvE,qBAAqB,CAiDjC;AAjDY,sDAAqB","sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\nimport { ProductService } from '../../product/product.component';\n\n@Component({\n  selector: 'search-detail',\n  templateUrl: './search-detail.component.html',\n  styles: [`\n    \n  `],\n})\n\nexport class SearchDetailComponent implements OnInit, OnDestroy {\n\n  products = [];\n  pages: number;\n  page : number;\n  loading : boolean;\n  sub ;\n  term ;\n  constructor( private route: ActivatedRoute,private productService : ProductService) {}\n\n  ngOnInit() {\n    this.page = 1;\n    this.pages = 2;\n    this.loading = true;\n    this.getSearchDetail();\n  }\n\n  ngOnDestroy() {\n    this.sub.unsubscribe();\n  }\n\n  getSearchDetail()\n  {\n    this.sub = this.route.params.subscribe(params => {\n      this.term = params['term'];\n      let page=1;\n      this.loading = true;\n        if(this.page <= this.pages ){\n        this.productService.search(this.term,this.page).subscribe(\n            data => {\n              this.pages = data.pages;\n              for(let i=0; i<=data.limit; i++) {\n                if(data._embedded.items[i]){\n                  this.products.push(data._embedded.items[i]);\n                  this.page = data.page + 1;\n                }\n              }\n            },\n            error => console.log(error),\n            () => console.log(\"finish\")\n        );\n      }  \n    });\n  }\n\n  onScrollDown () {\n      this.getSearchDetail();\n\t}\n\n}\n"]}