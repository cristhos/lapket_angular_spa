<div *ngIf="dealConversation != null" class="container">
  <div class="row">
    <div class="card-panel">
      <div class="row">
          <div class="col s12 m5" *ngIf="dealConversations != null">
              <ul class="collection with-header" >
                <li class="collection-header ">
                  CONVERSATIONS
                </li>
                <li class="conversation-list-auto collection-item"
                        infinite-scroll 
                        [infiniteScrollDistance]="2"
                        [infiniteScrollThrottle]="1000"
                        (scrolled)="onScrollDownConversations()"
                        [scrollWindow]="false">
                  <a  *ngFor="let dc of dealConversations" [routerLink]="['/deal/message',dc.id]"  routerLinkActive="active" class="collection-item" >
                        <deal-conversation-common [dc]="dc"></deal-conversation-common>
                  </a> 
                </li>
              </ul>
          </div>
          <div class="col s12 m7 " >
            <ul class="collection " >
              <li class="collection-item">
                <deal-conversation-common [dc]="dealConversation"></deal-conversation-common>
              </li>
              <li class="message-list-auto collection-item"
                   infinite-scroll 
                  [infiniteScrollDistance]="2"
                  [infiniteScrollThrottle]="1000"
                  (scrolled)="onScrollDownMessages()"
                  [scrollWindow]="false">
                    <span *ngIf="dealMessages != null">
                      <span *ngFor="let dM of dealMessages">
                        <deal-common [deal]="dM"></deal-common>
                      </span>
                    </span>
             </li>
             <li class="collection-item">
                  <deal-form [dealConversation]="dealConversation"></deal-form>
              </li>
            </ul>
          </div>
      </div>

    </div>
  </div>
</div>
